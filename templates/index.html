<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StyleAI - AI-Powered Fashion Recommendations</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">
                    <i class="fas fa-robot"></i>
                    StyleAI
                </h1>
                <p class="tagline">AI-Powered Personalized Fashion Stylist</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="flash-messages">
                        {% for category, message in messages %}
                            <div class="alert alert-{{ category }}">{{ message }}</div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            <!-- Quick Recommendations Section -->
            <section class="quick-recommendations">
                <h2><i class="fas fa-bolt"></i> Quick Recommendations</h2>
                <p>Get instant fashion advice based on your skin tone without uploading a photo</p>
                
                <form method="POST" action="{{ url_for('quick_recommend') }}" class="quick-form">
                    <div class="form-group">
                        <label for="skin_tone">Your Skin Tone:</label>
                        <select name="skin_tone" id="skin_tone" required>
                            <option value="">Select your skin tone</option>
                            <option value="Fair">Fair</option>
                            <option value="Medium">Medium</option>
                            <option value="Olive">Olive</option>
                            <option value="Deep">Deep</option>
                        </select>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="gender">Gender:</label>
                            <select name="gender" id="gender" required>
                                <option value="">Select gender</option>
                                {% for gender in genders %}
                                <option value="{{ gender }}">{{ gender }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="dress_code">Dress Code:</label>
                            <select name="dress_code" id="dress_code" required>
                                <option value="">Select dress code</option>
                                {% for code in dress_codes %}
                                <option value="{{ code }}">{{ code }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-magic"></i> Get Recommendations
                    </button>
                </form>
            </section>

            <!-- Divider -->
            <div class="divider">
                <span>OR</span>
            </div>

            <!-- Image Analysis Section -->
            <section class="image-analysis">
                <h2><i class="fas fa-camera"></i> Advanced Analysis with Photo</h2>
                <p>Upload your photo for personalized AI-powered fashion recommendations</p>
                
                <form method="POST" action="{{ url_for('analyze_image') }}" enctype="multipart/form-data" class="analysis-form">
                    <div class="form-group">
                        <label for="image">Upload Your Photo:</label>
                        <div class="file-upload">
                            <input type="file" name="image" id="image" accept="image/*" required>
                            <label for="image" class="file-label">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <span>Choose Image</span>
                            </label>
                            <div class="file-name"></div>
                        </div>
                        <small class="help-text">Supported formats: JPG, PNG, GIF (Max 16MB)</small>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="gender2">Gender:</label>
                            <select name="gender" id="gender2" required>
                                <option value="">Select gender</option>
                                {% for gender in genders %}
                                <option value="{{ gender }}">{{ gender }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="dress_code2">Dress Code:</label>
                            <select name="dress_code" id="dress_code2" required>
                                <option value="">Select dress code</option>
                                {% for code in dress_codes %}
                                <option value="{{ code }}">{{ code }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="preferences">Additional Preferences (Optional):</label>
                        <textarea name="preferences" id="preferences" placeholder="E.g., prefer ethnic wear, avoid certain colors, etc."></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-secondary">
                        <i class="fas fa-sparkles"></i> Analyze & Recommend
                    </button>
                </form>
            </section>

            <!-- Features Section -->
            <section class="features">
                <h2><i class="fas fa-star"></i> Why Choose StyleAI?</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-eye"></i>
                        <h3>Advanced AI Analysis</h3>
                        <p>Powered by Groq's LLaMA 3.2 Vision model for accurate image understanding</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-palette"></i>
                        <h3>Personalized Color Matching</h3>
                        <p>Scientific skin tone detection with customized color palettes</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-indian-rupee-sign"></i>
                        <h3>Indian Fashion Focus</h3>
                        <p>Recommendations tailored for Indian styles and shopping platforms</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-shopping-bag"></i>
                        <h3>Shopping Integration</h3>
                        <p>Direct links to Amazon India, Myntra, and Ajio for easy shopping</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2024 StyleAI. Powered by Groq AI and OpenCV.</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>